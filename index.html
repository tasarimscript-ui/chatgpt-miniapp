<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Taş Kağıt Makas</title>
  <style>
    :root {
      color-scheme: light dark;
      font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
    }

    body {
      margin: 0;
      min-height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
      background: radial-gradient(circle at top, #7ac1ff, #4a148c 70%);
      color: #fff;
      padding: 1.5rem;
    }

    main {
      width: min(440px, 100%);
      background: rgba(18, 20, 38, 0.65);
      border-radius: 1.5rem;
      padding: clamp(1.5rem, 4vw, 2.75rem);
      box-shadow: 0 24px 55px rgba(10, 10, 30, 0.45);
      backdrop-filter: blur(14px);
    }

    h1 {
      margin: 0;
      text-align: center;
      font-size: clamp(1.9rem, 5vw, 2.4rem);
    }

    p.lead {
      text-align: center;
      margin: 0.4rem 0 1.4rem;
      font-size: 1.05rem;
      color: rgba(255, 255, 255, 0.75);
    }

    .scoreboard {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 0.75rem;
      background: rgba(255, 255, 255, 0.08);
      padding: 1rem;
      border-radius: 1.2rem;
      text-align: center;
      margin-bottom: 1.5rem;
    }

    .scoreboard h2 {
      margin: 0;
      font-size: 0.95rem;
      text-transform: uppercase;
      letter-spacing: 0.08em;
      color: rgba(255, 255, 255, 0.8);
    }

    .score {
      font-size: 2rem;
      font-weight: 700;
    }

    .controls {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 0.75rem;
      margin-bottom: 1.5rem;
    }

    button {
      border: none;
      cursor: pointer;
      border-radius: 999px;
      padding: 0.75rem 1.4rem;
      font-size: 1rem;
      background: rgba(255, 255, 255, 0.92);
      color: #2b0a46;
      transition: transform 0.2s ease, box-shadow 0.2s ease;
      min-width: 120px;
    }

    button:hover,
    button:focus-visible {
      transform: translateY(-3px);
      box-shadow: 0 12px 20px rgba(0, 0, 0, 0.3);
      outline: none;
    }

    button:active {
      transform: translateY(0);
    }

    button.secondary {
      background: rgba(255, 255, 255, 0.25);
      color: #fff;
      border: 1px solid rgba(255, 255, 255, 0.35);
    }

    .result {
      background: rgba(255, 255, 255, 0.12);
      border-radius: 1.2rem;
      padding: 1rem 1.2rem;
      text-align: center;
      margin-bottom: 1.25rem;
      min-height: 96px;
      display: grid;
      place-items: center;
      gap: 0.35rem;
      line-height: 1.4;
    }

    .result strong {
      font-size: 1.35rem;
    }

    .history {
      background: rgba(255, 255, 255, 0.12);
      border-radius: 1.2rem;
      padding: 1.1rem 1.2rem;
      max-height: 220px;
      overflow-y: auto;
      margin: 0;
      list-style: none;
      display: grid;
      gap: 0.7rem;
      font-size: 0.97rem;
    }

    .history li {
      display: flex;
      justify-content: space-between;
      gap: 1rem;
      align-items: center;
    }

    .history li span {
      display: block;
    }

    .empty-state {
      text-align: center;
      color: rgba(255, 255, 255, 0.6);
    }

    @media (max-width: 480px) {
      button {
        min-width: 45%;
      }

      .history li {
        flex-direction: column;
        align-items: flex-start;
      }
    }
  </style>
</head>
<body>
  <main>
    <h1>Taş Kağıt Makas</h1>
    <p class="lead">Hamleni seç, bilgisayara meydan oku!</p>

    <section class="scoreboard" aria-label="Skor durumu">
      <div>
        <h2>Sen</h2>
        <div id="playerScore" class="score">0</div>
      </div>
      <div>
        <h2>Bilgisayar</h2>
        <div id="computerScore" class="score">0</div>
      </div>
    </section>

    <section class="controls" aria-label="Hamle butonları">
      <button type="button" data-choice="rock">🪨 Taş</button>
      <button type="button" data-choice="paper">📄 Kağıt</button>
      <button type="button" data-choice="scissors">✂️ Makas</button>
      <button type="button" id="resetButton" class="secondary">Sıfırla</button>
    </section>

    <div class="result" id="result" aria-live="polite">
      <strong>Hazırsan başlayalım!</strong>
      <span>Butonlara tıklayabilir veya klavyeden T / K / M tuşlarını kullanabilirsin.</span>
    </div>

    <h2 style="margin: 0 0 0.75rem; font-size: 1.05rem;">Son Hamleler</h2>
    <ul class="history" id="history" aria-live="polite" aria-label="Oyun geçmişi">
      <li class="empty-state">Henüz hamle yapılmadı.</li>
    </ul>
  </main>

  <script>
    const choices = {
      rock: { label: "Taş", emoji: "🪨", beats: "scissors" },
      paper: { label: "Kağıt", emoji: "📄", beats: "rock" },
      scissors: { label: "Makas", emoji: "✂️", beats: "paper" },
    };

    const keyBindings = {
      t: "rock",
      k: "paper",
      m: "scissors",
    };

    const playerScoreEl = document.getElementById("playerScore");
    const computerScoreEl = document.getElementById("computerScore");
    const resultEl = document.getElementById("result");
    const historyEl = document.getElementById("history");

    let playerScore = 0;
    let computerScore = 0;
    let round = 0;

    function randomComputerChoice() {
      const keys = Object.keys(choices);
      const index = Math.floor(Math.random() * keys.length);
      return keys[index];
    }

    function determineWinner(playerChoice, computerChoice) {
      if (playerChoice === computerChoice) {
        return "draw";
      }

      return choices[playerChoice].beats === computerChoice ? "player" : "computer";
    }

    function updateScore(winner) {
      if (winner === "player") {
        playerScore += 1;
      } else if (winner === "computer") {
        computerScore += 1;
      }

      playerScoreEl.textContent = playerScore;
      computerScoreEl.textContent = computerScore;
    }

    function formatOutcomeText(winner, playerChoice, computerChoice) {
      if (winner === "draw") {
        return "Berabere!";
      }

      const playerMove = `${choices[playerChoice].emoji} ${choices[playerChoice].label}`;
      const computerMove = `${choices[computerChoice].emoji} ${choices[computerChoice].label}`;

      if (winner === "player") {
        return `Kazandın! ${playerMove} ${computerMove}'ı yener.`;
      }

      return `Kaybettin. ${playerMove} ${computerMove}'a yenilir.`;
    }

    function addHistoryEntry(winner, playerChoice, computerChoice) {
      const entry = document.createElement("li");
      entry.innerHTML = `
        <span>#${round} • ${choices[playerChoice].emoji} ${choices[playerChoice].label} vs ${choices[computerChoice].emoji} ${choices[computerChoice].label}</span>
        <span>${winner === "draw" ? "Berabere" : winner === "player" ? "Sen kazandın" : "Bilgisayar kazandı"}</span>
      `;

      const emptyState = historyEl.querySelector(".empty-state");
      if (emptyState) {
        emptyState.remove();
      }

      historyEl.prepend(entry);

      while (historyEl.children.length > 10) {
        historyEl.removeChild(historyEl.lastElementChild);
      }
    }

    function renderResult(winner, playerChoice, computerChoice) {
      const outcome = formatOutcomeText(winner, playerChoice, computerChoice);
      resultEl.innerHTML = `
        <strong>${outcome}</strong>
        <span>Yeni hamle için butonlara tıkla veya T / K / M tuşlarını kullan.</span>
      `;
    }

    function playRound(playerChoice) {
      const computerChoice = randomComputerChoice();
      const winner = determineWinner(playerChoice, computerChoice);

      round += 1;
      updateScore(winner);
      renderResult(winner, playerChoice, computerChoice);
      addHistoryEntry(winner, playerChoice, computerChoice);
    }

    function resetGame() {
      playerScore = 0;
      computerScore = 0;
      round = 0;
      playerScoreEl.textContent = "0";
      computerScoreEl.textContent = "0";
      resultEl.innerHTML = `
        <strong>Oyun sıfırlandı.</strong>
        <span>Tekrar oynamak için bir hamle seç.</span>
      `;

      historyEl.innerHTML = '<li class="empty-state">Henüz hamle yapılmadı.</li>';
    }

    document.querySelectorAll('[data-choice]').forEach((button) => {
      button.addEventListener('click', () => playRound(button.dataset.choice));
    });

    document.getElementById('resetButton').addEventListener('click', resetGame);

    document.addEventListener('keydown', (event) => {
      const key = event.key.toLowerCase();
      if (key in keyBindings) {
        playRound(keyBindings[key]);
      }
    });
  </script>
</body>
</html>
